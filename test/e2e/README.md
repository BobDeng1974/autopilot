# Canary Test Example

This directory houses the main test project / example for Autopilot, which is a Canary Operator built using the `ap` CLI.

It provides a minimalistic example of how Autopilot can be used to orchestrate a canary workflow. 

This project is meant to serve only as both an example (for users developing their own Operators) as well as an end-to-end
test for the project. For a fully-featured Service Mesh Canary solution, we recommend you check out [Flagger](https://flagger.app/).

This project can be generated, deployed, and tested, by running `run_test_project.sh`. Note that this will blow away any local
changes to the `canary` subdirectory, so make sure you've backed up your changes before running.

Currently the subproject is generated by running the `ap init` and `ap generate` commands, followed by copying some "user-written"
files into the project, and re-generated.



# Generated Documentation

Autopilot generates documentation for the `autopilot.yaml` and `autopilot-operator.yaml` config files in [docs](./docs):  

# TODO

Migrate to a real build system to generate the `canary` test artifact.
